databaseChangeLog:

- changeSet:
    id: pil-1
    author: szydra
    changes:
    - createTable:
        tableName: question
        columns:
        - column:
            name: id
            type: bigint
            autoIncrement: true
            constraints:
              primaryKey: true
              nullable: false
        - column:
            name: business_id
            type: varchar(32)
            constraints:
              nullable: false
              unique: true
        - column:
            name: active
            type: boolean
            constraints:
              nullable: false
        - column:
            name: content
            type: varchar(1023)
            constraints:
              nullable: false
    modifySql:
    - append:
        dbms: mysql
        value: ' engine=innodb'

- changeSet:
    id: pil-2
    author: szydra
    changes:
    - createTable:
        tableName: answer
        columns:
        - column:
            name: id
            type: bigint
            autoIncrement: true
            constraints:
              primaryKey: true
              nullable: false
        - column:
            name: correct
            type: boolean
            constraints:
              nullable: false
        - column:
            name: prefix
            type: char(1)
            constraints:
              nullable: false
        - column:
            name: content
            type: varchar(1023)
            constraints:
              nullable: false
        - column:
            name: question_id
            type: bigint
            constraints:
              nullable: false
              references: question(id)
              foreignKeyName: fk_answer_question
    modifySql:
    - append:
        dbms: mysql
        value: ' engine=innodb'

- changeSet:
    id: pil-3
    author: szydra
    changes:
    - createTable:
        tableName: game
        columns:
        - column:
            name: id
            type: bigint
            autoIncrement: true
            constraints:
              primaryKey: true
              nullable: false
        - column:
            name: business_id
            type: varchar(32)
            constraints:
              nullable: false
              unique: true
        - column:
            name: start_time
            type: datetime(6)
            constraints:
              nullable: false
        - column:
            name: active
            type: boolean
            constraints:
              nullable: false
        - column:
            name: level
            type: tinyint
            constraints:
              nullable: false
        - column:
            name: last_asked_question_id
            type: bigint
            constraints:
              references: question(id)
              foreignKeyName: fk_game_last_asked_question
    modifySql:
    - append:
        dbms: mysql
        value: ' engine=innodb'
